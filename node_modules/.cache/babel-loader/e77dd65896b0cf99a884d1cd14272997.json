{"ast":null,"code":"var _jsxFileName = \"D:\\\\TIC5\\\\Programmation Web .Net\\\\Project\\\\trello-app\\\\src\\\\components\\\\board.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; // import { Link } from 'react-router'\n\nimport List from './list';\nimport AddList from './forms/addList';\nimport ProjLoader from './loader';\nimport HeaderApp from './common/header';\n\nclass Board extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.componentDidMount = () => {\n      this.getListDetails();\n      this.getData();\n      setInterval(() => {\n        this.getData();\n      }, 2000);\n    };\n\n    this.getListDetails = () => {\n      axios.get(\"/list\").then(r => {\n        this.setState({\n          list: r.data,\n          err2: ''\n        });\n      }).then(() => {\n        this.setState({\n          loadingList: false\n        });\n      }).catch(e => {\n        this.setState({\n          loadingList: false,\n          err2: e\n        });\n      });\n    };\n\n    this.getData = () => {\n      axios.get(\"/cards/\".concat(this.props.params.id)).then(r => {\n        this.setState({\n          cards: r.data,\n          err: ''\n        });\n      }).then(() => {\n        this.setState({\n          loading: false\n        });\n      }).catch(e => {\n        if (!e.response) {\n          this.setState({\n            loading: true,\n            err: e\n          });\n        } else this.setState({\n          loading: false,\n          err: e\n        });\n      });\n    };\n\n    this.state = {\n      open: false,\n      show: true,\n      cards: [],\n      lists: [],\n      err: '',\n      err2: '',\n      loading: true,\n      loadingStory: true\n    };\n    this.getData = this.getData.bind(this);\n  }\n\n  render() {\n    let _this$state = this.state,\n        lists = _this$state.lists,\n        loadingList = _this$state.loadingList;\n    let listTable;\n    if (!loadingList) listTable = lists.map((list, index) => {\n      return React.createElement(\"li\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/list/\".concat(list.listId),\n        activeClassName: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-list-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"menu-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, list.title)));\n    });else listTable = React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(ProjLoader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Project Board\"), React.createElement(\"ul\", {\n      className: \"side-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, listTable), React.createElement(\"div\", {\n      className: \"otherMenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(AddList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"con\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(HeaderApp, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"aside\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(List, {\n      lstName: this.state.lists.filter(i => i.listId === parseInt(this.props.router.params.id)),\n      lstType: this.props.params.id,\n      cards: this.state.cards,\n      loading: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Board;","map":{"version":3,"sources":["D:/TIC5/Programmation Web .Net/Project/trello-app/src/components/board.js"],"names":["React","Component","axios","List","AddList","ProjLoader","HeaderApp","Board","constructor","props","context","componentDidMount","getListDetails","getData","setInterval","get","then","r","setState","list","data","err2","loadingList","catch","e","params","id","cards","err","loading","response","state","open","show","lists","loadingStory","bind","render","listTable","map","index","listId","title","filter","i","parseInt","router"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,UAAP,MAAuB,UAAvB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;;AAEA,MAAMC,KAAN,SAAoBN,SAApB,CAA8B;AAC1BO,EAAAA,WAAW,CAACC,KAAD,EAAQC,OAAR,EAAiB;AACxB,UAAMD,KAAN,EAAaC,OAAb;;AADwB,SAe5BC,iBAf4B,GAeR,MAAM;AACtB,WAAKC,cAAL;AACA,WAAKC,OAAL;AACAC,MAAAA,WAAW,CAAC,MAAM;AACd,aAAKD,OAAL;AACH,OAFU,EAER,IAFQ,CAAX;AAGH,KArB2B;;AAAA,SAuB5BD,cAvB4B,GAuBX,MAAM;AACnBV,MAAAA,KAAK,CAACa,GAAN,UACKC,IADL,CACWC,CAAD,IAAO;AACT,aAAKC,QAAL,CAAc;AACVC,UAAAA,IAAI,EAAEF,CAAC,CAACG,IADE;AAEVC,UAAAA,IAAI,EAAE;AAFI,SAAd;AAIH,OANL,EAOKL,IAPL,CAOU,MAAM;AACR,aAAKE,QAAL,CAAc;AACVI,UAAAA,WAAW,EAAE;AADH,SAAd;AAGH,OAXL,EAYKC,KAZL,CAYYC,CAAD,IAAO;AACV,aAAKN,QAAL,CAAc;AACVI,UAAAA,WAAW,EAAE,KADH;AAEVD,UAAAA,IAAI,EAAEG;AAFI,SAAd;AAIH,OAjBL;AAmBH,KA3C2B;;AAAA,SA4C5BX,OA5C4B,GA4ClB,MAAM;AACZX,MAAAA,KAAK,CAACa,GAAN,kBAAoB,KAAKN,KAAL,CAAWgB,MAAX,CAAkBC,EAAtC,GACKV,IADL,CACWC,CAAD,IAAO;AACT,aAAKC,QAAL,CAAc;AACVS,UAAAA,KAAK,EAAEV,CAAC,CAACG,IADC;AAEVQ,UAAAA,GAAG,EAAE;AAFK,SAAd;AAIH,OANL,EAOKZ,IAPL,CAOU,MAAM;AACR,aAAKE,QAAL,CAAc;AACVW,UAAAA,OAAO,EAAE;AADC,SAAd;AAGH,OAXL,EAYKN,KAZL,CAYYC,CAAD,IAAO;AACV,YAAI,CAACA,CAAC,CAACM,QAAP,EAAiB;AACb,eAAKZ,QAAL,CAAc;AACVW,YAAAA,OAAO,EAAE,IADC;AAEVD,YAAAA,GAAG,EAAEJ;AAFK,WAAd;AAIH,SALD,MAOI,KAAKN,QAAL,CAAc;AACVW,UAAAA,OAAO,EAAE,KADC;AAEVD,UAAAA,GAAG,EAAEJ;AAFK,SAAd;AAIP,OAxBL;AA2BH,KAxE2B;;AAExB,SAAKO,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,KADG;AAETC,MAAAA,IAAI,EAAE,IAFG;AAGTN,MAAAA,KAAK,EAAE,EAHE;AAITO,MAAAA,KAAK,EAAE,EAJE;AAKTN,MAAAA,GAAG,EAAE,EALI;AAMTP,MAAAA,IAAI,EAAE,EANG;AAOTQ,MAAAA,OAAO,EAAE,IAPA;AAQTM,MAAAA,YAAY,EAAE;AARL,KAAb;AAWA,SAAKtB,OAAL,GAAe,KAAKA,OAAL,CAAauB,IAAb,CAAkB,IAAlB,CAAf;AACH;;AA2DDC,EAAAA,MAAM,GAAG;AAAA,sBACwB,KAAKN,KAD7B;AAAA,QACCG,KADD,eACCA,KADD;AAAA,QACQZ,WADR,eACQA,WADR;AAEL,QAAIgB,SAAJ;AACA,QAAI,CAAChB,WAAL,EACIgB,SAAS,GAAGJ,KAAK,CAACK,GAAN,CAAU,CAACpB,IAAD,EAAOqB,KAAP,KAAiB;AACnC,aACI;AAAI,QAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,EAAE,kBAAWrB,IAAI,CAACsB,MAAhB,CAAR;AAAkC,QAAA,eAAe,EAAC,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6BtB,IAAI,CAACuB,KAAlC,CAFJ,CADJ,CADJ;AAQH,KATW,CAAZ,CADJ,KAYIJ,SAAS,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACR;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADQ,CAAZ;AAKJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKA,SADL,CAFJ,EAKI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CALJ,CADJ,EAUI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,KAAKP,KAAL,CAAWG,KAAX,CAAiBS,MAAjB,CAAwBC,CAAC,IAAIA,CAAC,CAACH,MAAF,KAAaI,QAAQ,CAAC,KAAKpC,KAAL,CAAWqC,MAAX,CAAkBrB,MAAlB,CAAyBC,EAA1B,CAAlD,CAAf;AAAiG,MAAA,OAAO,EAAE,KAAKjB,KAAL,CAAWgB,MAAX,CAAkBC,EAA5H;AAAgI,MAAA,KAAK,EAAE,KAAKK,KAAL,CAAWJ,KAAlJ;AAAyJ,MAAA,OAAO,EAAE,KAAKI,KAAL,CAAWF,OAA7K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFJ,CAVJ,CADJ;AAoBH;;AAlHyB;;AAsH9B,eAAetB,KAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n// import { Link } from 'react-router'\r\nimport List from './list';\r\nimport AddList from './forms/addList';\r\nimport ProjLoader from './loader';\r\nimport HeaderApp from './common/header';\r\n\r\nclass Board extends Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {\r\n            open: false,\r\n            show: true,\r\n            cards: [],\r\n            lists: [],\r\n            err: '',\r\n            err2: '',\r\n            loading: true,\r\n            loadingStory: true\r\n        };\r\n\r\n        this.getData = this.getData.bind(this)\r\n    }\r\n    componentDidMount = () => {\r\n        this.getListDetails();\r\n        this.getData();\r\n        setInterval(() => {\r\n            this.getData();\r\n        }, 2000);\r\n    }\r\n\r\n    getListDetails = () => {\r\n        axios.get(`/list`)\r\n            .then((r) => {\r\n                this.setState({\r\n                    list: r.data,\r\n                    err2: ''\r\n                })\r\n            })\r\n            .then(() => {\r\n                this.setState({\r\n                    loadingList: false\r\n                })\r\n            })\r\n            .catch((e) => {\r\n                this.setState({\r\n                    loadingList: false,\r\n                    err2: e\r\n                })\r\n            })\r\n\r\n    }\r\n    getData = () => {\r\n        axios.get(`/cards/${this.props.params.id}`)\r\n            .then((r) => {\r\n                this.setState({\r\n                    cards: r.data,\r\n                    err: ''\r\n                })\r\n            })\r\n            .then(() => {\r\n                this.setState({\r\n                    loading: false\r\n                })\r\n            })\r\n            .catch((e) => {\r\n                if (!e.response) {\r\n                    this.setState({\r\n                        loading: true,\r\n                        err: e\r\n                    })\r\n                }\r\n                else\r\n                    this.setState({\r\n                        loading: false,\r\n                        err: e\r\n                    })\r\n            })\r\n\r\n\r\n    }\r\n    render() {\r\n        let { lists, loadingList } = this.state;\r\n        let listTable;\r\n        if (!loadingList)\r\n            listTable = lists.map((list, index) => {\r\n                return (\r\n                    <li key={index}>\r\n                        <Link to={`/list/${list.listId}`} activeClassName=\"active\">\r\n                            <i className=\"fas fa-list-alt\"></i>\r\n                            <span className=\"menu-text\">{list.title}</span>\r\n                        </Link>\r\n                    </li>\r\n                )\r\n            })\r\n        else\r\n            listTable = <li>\r\n                <div className=\"loader\">\r\n                    <ProjLoader />\r\n                </div>\r\n            </li>\r\n        return (\r\n            <div>\r\n                <div className=\"side\">\r\n                    <span className=\"logo\">Project Board</span>\r\n                    <ul className=\"side-menu\">\r\n                        {listTable}\r\n                    </ul>\r\n                    <div className=\"otherMenu\">\r\n                        <AddList />\r\n                    </div>\r\n                </div>\r\n                <div className=\"con\">\r\n                    <HeaderApp />\r\n                    <aside>\r\n                        <List lstName={this.state.lists.filter(i => i.listId === parseInt(this.props.router.params.id))} lstType={this.props.params.id} cards={this.state.cards} loading={this.state.loading} />\r\n                    </aside>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\nexport default Board;"]},"metadata":{},"sourceType":"module"}