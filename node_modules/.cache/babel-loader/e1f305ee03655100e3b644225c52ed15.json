{"ast":null,"code":"var _jsxFileName = \"D:\\\\TIC5\\\\Programmation Web .Net\\\\Project\\\\trello-app\\\\src\\\\components\\\\forms\\\\addCard.js\";\nimport React from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, FormGroup, Label } from 'reactstrap';\nimport moment from 'moment';\nimport axios from 'axios';\n\nclass AddCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeColumnTitle = number => {\n      let newTitle;\n      if (number === \"1\") newTitle = \"Backlog\";else if (number === \"2\") newTitle = \"ToDo\";else if (number === \"3\") newTitle = \"In Progress\";else if (number == \"4\") newTitle = \"Testing\";else newTitle = \"Completed\";\n      return newTitle;\n    };\n\n    this.handleClick = event => {\n      axios.post('/cards', {\n        title: this.state.title,\n        content: this.state.content,\n        status: this.props.status,\n        contributors: this.state.contributors,\n        dueDate: this.state.dueDate,\n        color: this.state.color,\n        listId: this.state.listId,\n        createdBy: this.state.createdBy\n      }).then(response => {\n        if (response.data.message) alert(response.data.message);else {\n          this.toggle();\n          this.setState({\n            title: null,\n            content: null,\n            contributors: null,\n            dueDate: null,\n            loading: false\n          });\n        }\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      modal: false,\n      title: '',\n      content: '',\n      contributors: '',\n      createdBy: 'Yasmin Afifi',\n      dueDate: '',\n      status: this.props.status,\n      color: '',\n      listId: this.props.listType,\n      loading: false,\n      users: []\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  componentDidMount() {\n    moment.locale('tr');\n    this.changeColumnTitle();\n  }\n\n  handleInput(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n    console.log(this.state.dueDate);\n  }\n\n  getUsers() {\n    axios.get('/users').then(r => {\n      this.setState({\n        users: r.data,\n        err: ''\n      });\n    }).then(r => {\n      console.log(this.state.users);\n    }).catch(e => {\n      this.setState({\n        err: e\n      });\n    });\n  }\n\n  toggle() {\n    this.getUsers();\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  render() {\n    const users = this.state.users;\n    let userContent;\n    if (!users) userContent = React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Loading...\");else {\n      userContent = users.map((user, index) => React.createElement(\"option\", {\n        key: index,\n        value: user._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, user.name + \" \" + user.lastName));\n    }\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"customAddCard\",\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      className: this.props.className,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Create a New Card to \", this.changeColumnTitle(this.props.status)), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Card Title(*):\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"title\",\n      id: \"CardTitle\",\n      onChange: this.handleInput.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Card Details:\"), React.createElement(Input, {\n      type: \"textarea\",\n      name: \"content\",\n      id: \"content\",\n      onChange: this.handleInput.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"contributors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Assign to:\"), React.createElement(Input, {\n      type: \"select\",\n      name: \"contributors\",\n      id: \"contributors\",\n      onChange: this.handleInput.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Choose:\"), userContent)), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"color\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Card Color:\"), React.createElement(Input, {\n      type: \"select\",\n      name: \"color\",\n      id: \"color\",\n      onChange: this.handleInput.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Choose:\"), React.createElement(\"option\", {\n      value: \"colorBlue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Blue\"), React.createElement(\"option\", {\n      value: \"colorGreen\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Green\"), React.createElement(\"option\", {\n      value: \"colorYellow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Yellow\"), React.createElement(\"option\", {\n      value: \"colorRed\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Red\"))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"cardCalendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), \" Created Date: \", moment().format('L, h:mm:ss'), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"cardClock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), \" Due Date: \", React.createElement(\"input\", {\n      name: \"dueDate\",\n      id: \"dueDate\",\n      type: \"datetime-local\",\n      onChange: this.handleInput.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.handleClick.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"btnPlusCircle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), \" Add\"), React.createElement(Button, {\n      color: \"secondary\",\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"btnCloseCircle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), \" Close\"))));\n  }\n\n}\n\nexport default AddCard;","map":{"version":3,"sources":["D:/TIC5/Programmation Web .Net/Project/trello-app/src/components/forms/addCard.js"],"names":["React","Button","Modal","ModalHeader","ModalBody","ModalFooter","Input","FormGroup","Label","moment","axios","AddCard","Component","constructor","props","changeColumnTitle","number","newTitle","handleClick","event","post","title","state","content","status","contributors","dueDate","color","listId","createdBy","then","response","data","message","alert","toggle","setState","loading","console","log","catch","error","modal","listType","users","bind","componentDidMount","locale","handleInput","e","target","name","value","getUsers","get","r","err","render","userContent","map","user","index","_id","lastName","className","format"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, FormGroup, Label } from 'reactstrap';\r\nimport moment from 'moment'\r\nimport axios from 'axios'\r\n\r\n\r\nclass AddCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            modal: false,\r\n            title: '',\r\n            content: '',\r\n            contributors: '',\r\n            createdBy: 'Yasmin Afifi',\r\n            dueDate: '',\r\n            status: this.props.status,\r\n            color: '',\r\n            listId: this.props.listType,\r\n            loading: false,\r\n            users: []\r\n        };\r\n        this.toggle = this.toggle.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        moment.locale('tr');\r\n        this.changeColumnTitle()\r\n    }\r\n    changeColumnTitle = number => {\r\n        let newTitle;\r\n        if (number === \"1\")\r\n            newTitle = \"Backlog\"\r\n        else if (number === \"2\")\r\n            newTitle = \"ToDo\"\r\n        else if (number === \"3\")\r\n            newTitle = \"In Progress\"\r\n        else if (number == \"4\")\r\n            newTitle = \"Testing\"\r\n        else\r\n            newTitle = \"Completed\"\r\n\r\n        return newTitle;\r\n    }\r\n    handleInput(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n        console.log(this.state.dueDate)\r\n    }\r\n    getUsers() {\r\n        axios.get('/users')\r\n            .then((r) => {\r\n                this.setState({\r\n                    users: r.data,\r\n                    err: ''\r\n                })\r\n            })\r\n            .then((r) => {\r\n                console.log(this.state.users)\r\n            })\r\n            .catch((e) => {\r\n                this.setState({\r\n                    err: e\r\n                })\r\n            })\r\n    }\r\n    handleClick = event => {\r\n        axios.post('/cards', {\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            status: this.props.status,\r\n            contributors: this.state.contributors,\r\n            dueDate: this.state.dueDate,\r\n            color: this.state.color,\r\n            listId: this.state.listId,\r\n            createdBy: this.state.createdBy\r\n        })\r\n            .then((response) => {\r\n                if (response.data.message)\r\n                    alert(response.data.message)\r\n                else {\r\n                    this.toggle();\r\n                    this.setState({\r\n                        title: null,\r\n                        content: null,\r\n                        contributors: null,\r\n                        dueDate: null,\r\n                        loading: false\r\n                    })\r\n                }\r\n                console.log(response);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n\r\n    }\r\n    toggle() {\r\n        this.getUsers();\r\n        this.setState({\r\n            modal: !this.state.modal\r\n        });\r\n    }\r\n    render() {\r\n        const { users } = this.state;\r\n        let userContent;\r\n        if (!users)\r\n            userContent = <option value=\"\">Loading...</option>\r\n        else {\r\n            userContent = users.map((user, index) => (\r\n                <option key={index} value={user._id}>{user.name + \" \" + user.lastName}</option>\r\n            ))\r\n        }\r\n        return (\r\n            <div>\r\n                <i className=\"customAddCard\" onClick={this.toggle}></i>\r\n                <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\r\n                    <ModalHeader toggle={this.toggle}>\r\n                        Create a New Card to {this.changeColumnTitle(this.props.status)}\r\n                    </ModalHeader>\r\n                    <ModalBody>\r\n                        <FormGroup>\r\n                            <Label for=\"title\">Card Title(*):</Label><Input type=\"text\" name=\"title\" id=\"CardTitle\" onChange={this.handleInput.bind(this)} /></FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"content\">Card Details:</Label>\r\n                            <Input type=\"textarea\" name=\"content\" id=\"content\" onChange={this.handleInput.bind(this)} />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"contributors\">Assign to:</Label>\r\n                            <Input type=\"select\" name=\"contributors\" id=\"contributors\" onChange={this.handleInput.bind(this)}>\r\n                                <option value=\"\">Choose:</option>\r\n                                {userContent}\r\n                            </Input>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"color\">Card Color:</Label>\r\n                            <Input type=\"select\" name=\"color\" id=\"color\" onChange={this.handleInput.bind(this)}>\r\n                                <option value=\"\">Choose:</option>\r\n                                <option value=\"colorBlue\">Blue</option>\r\n                                <option value=\"colorGreen\">Green</option>\r\n                                <option value=\"colorYellow\">Yellow</option>\r\n                                <option value=\"colorRed\">Red</option>\r\n                            </Input>\r\n                        </FormGroup>\r\n                        <hr />\r\n                        <i className=\"cardCalendar\"></i> Created Date: {moment().format('L, h:mm:ss')} <br />\r\n                        <i className=\"cardClock\"></i> Due Date: <input name=\"dueDate\" id=\"dueDate\" type=\"datetime-local\" onChange={this.handleInput.bind(this)} />\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button color=\"primary\" onClick={this.handleClick.bind(this)}><i className=\"btnPlusCircle\"></i> Add</Button>\r\n                        <Button color=\"secondary\" onClick={this.toggle}><i className=\"btnCloseCircle\"></i> Close</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\nexport default AddCard;"]},"metadata":{},"sourceType":"module"}